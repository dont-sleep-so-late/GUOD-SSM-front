{"version":3,"file":"js/949.60a87f63.js","mappings":"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","sources":["webpack://ssm/./src/pages/user/competitionDetail.vue","webpack://ssm/src/pages/user/competitionDetail.vue","webpack://ssm/./src/pages/user/competitionDetail.vue?e81d","webpack://ssm/./src/pages/user/competitionDetail.vue?dafa"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('div',{staticStyle:{\"text-align\":\"left\",\"width\":\"1080px\",\"margin\":\"0 auto\"}},[_c('el-image',{staticClass:\"photo\",attrs:{\"src\":_vm.info.url}}),_c('div',{staticClass:\"hd\"},[_c('h3',{class:_vm.isShow ? 'tran' : 'blue',attrs:{\"id\":\"details\"},on:{\"click\":function($event){return _vm.changeToPeople()}}},[_vm._v(\"竞赛信息\")]),_c('h3',{class:_vm.isShow ? 'blue' : 'tran',attrs:{\"id\":\"people\"},on:{\"click\":function($event){return _vm.changeToInfo()}}},[_vm._v(\"报名列表\")]),(new Date() < new Date(_vm.info.starttime))?_c('div',{staticStyle:{\"float\":\"right\"}},[(new Date() < new Date(_vm.info.starttime) && _vm.info.applyStatus === 1)?_c('el-button',{staticClass:\"baoMing\",on:{\"click\":function($event){return _vm.apply()}}},[_vm._v(\"立即报名\")]):_vm._e(),(_vm.info.applyStatus === 0)?_c('el-button',{staticClass:\"baoMing\",on:{\"click\":function($event){return _vm.cancel()}}},[_vm._v(\"取消报名\")]):_vm._e()],1):_vm._e(),_c('div',{staticClass:\"apply\"},[(new Date() < new Date(_vm.info.starttime))?_c('span',[_vm._v(\"报名时间 \")]):_vm._e(),(new Date() < new Date(_vm.info.starttime))?_c('span',[_vm._v(\"距离报名截止还有 \"+_vm._s(parseInt((new Date(_vm.info.starttime).getTime() - new Date().getTime()) / (1000 * 60 * 60 * 24)))+\" 天\")]):_c('span',[_vm._v(\"报名结束\")]),_c('p',[_vm._v(_vm._s(_vm.dateFormat(new Date()) + ' - ' + _vm.dateFormat(_vm.info.starttime)))])])]),_c('div',{staticClass:\"content-left\"},[(!_vm.isShow)?_c('div',{staticClass:\"info\"},[_c('h1',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.info.name))]),_c('p',[_vm._v(\" \"+_vm._s(_vm.info.description)+\" \")])]):_vm._e(),(_vm.isShow)?_c('div',{staticClass:\"people\"},[_vm._l((_vm.applyPeopleList),function(apply){return (_vm.applyPeopleList.length > 0)?_c('div',[_c('span',[_c('el-image',{staticClass:\"avatar\",attrs:{\"src\":apply.userAvatar}})],1),_c('span',[_vm._v(\" \"+_vm._s('用户名: ' + apply.username)+\" \")]),_c('span',[_vm._v(\" \"+_vm._s('报名时间: ' + _vm.dateFormat(apply.created))+\" \")])]):_vm._e()}),(_vm.applyPeopleList.length == 0)?_c('div',[_vm._v(\" 暂时无人报名，赶快来报名吧！！！ \")]):_vm._e()],2):_vm._e()]),_c('div',{staticClass:\"content-right\"},[_c('p',[_c('span',[_vm._v(\"竞赛地点\")]),_vm._v(\" \"+_vm._s(_vm.info.place)+\" \")]),_c('p',[_c('span',[_vm._v(\"竞赛创建人\")]),_vm._v(\" \"+_vm._s(_vm.info.username)+\" \")]),_c('p',[_c('span',[_vm._v(\"报名人数\")]),_vm._v(\" \"+_vm._s(_vm.applyNum)+\" \")])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"text-align: center\">\n    <div style=\"text-align: left;width: 1080px;margin: 0 auto\">\n      <el-image :src=\"info.url\" class=\"photo\"></el-image>\n      <div class=\"hd\">\n        <h3 @click=\"changeToPeople()\" :class=\"isShow ? 'tran' : 'blue'\" id=\"details\">竞赛信息</h3>\n        <h3 @click=\"changeToInfo()\" :class=\"isShow ? 'blue' : 'tran'\" id=\"people\">报名列表</h3>\n\n        <div style=\"float: right\" v-if=\"new Date() < new Date(info.starttime)\">\n          <el-button v-if=\"new Date() < new Date(info.starttime) && info.applyStatus === 1\" class=\"baoMing\" @click=\"apply()\">立即报名</el-button>\n          <el-button  v-if=\"info.applyStatus === 0\" class=\"baoMing\" @click=\"cancel()\">取消报名</el-button>\n        </div>\n        <div class=\"apply\">\n          <span v-if=\"new Date() < new Date(info.starttime)\">报名时间&nbsp;</span>\n          <span v-if=\"new Date() < new Date(info.starttime)\">距离报名截止还有 {{ parseInt((new Date(info.starttime).getTime() - new Date().getTime()) / (1000 * 60 * 60 * 24)) }} 天</span>\n          <span v-else>报名结束</span>\n          <p>{{ dateFormat(new Date()) + ' - ' + dateFormat(info.starttime) }}</p>\n        </div>\n      </div>\n      <div class=\"content-left\">\n        <div v-if=\"!isShow\" class=\"info\">\n          <h1 class=\"name\">{{ info.name }}</h1>\n          <p>\n            {{ info.description }}\n          </p>\n        </div>\n        <div v-if=\"isShow\" class=\"people\">\n          <div v-if=\"applyPeopleList.length > 0\" v-for=\"apply in applyPeopleList\">\n          <span>\n            <el-image :src=\"apply.userAvatar\" class=\"avatar\"></el-image>\n          </span>\n            <span>\n            {{'用户名: ' + apply.username}}\n          </span>\n            <span>\n            {{'报名时间: ' + dateFormat(apply.created)}}\n          </span>\n          </div>\n          <div v-if=\"applyPeopleList.length == 0\">\n            暂时无人报名，赶快来报名吧！！！\n          </div>\n        </div>\n      </div>\n      <div class=\"content-right\">\n        <p>\n          <span>竞赛地点</span>\n          {{ info.place }}\n        </p>\n        <p>\n          <span>竞赛创建人</span>\n          {{ info.username }}\n        </p>\n        <p>\n          <span>报名人数</span>\n          {{applyNum}}\n        </p>\n      </div>\n\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"competitionDetail\",\n  data() {\n    return {\n      competitionId: 0,\n      info: {},\n      isShow: false,\n      applyForm: {},\n      applyPeopleList: [],\n      applyNum: 0,\n      userId: 0\n    }\n  },\n  created() {\n    this.competitionId = sessionStorage.getItem(\"competitionId\");\n    this.userId = sessionStorage.getItem(\"userId\");\n    this.getCompetitionInfo();\n    this.getApplyPeopleList();\n  },\n  methods: {\n    changeToPeople(){\n      this.isShow = false;\n    },\n    changeToInfo(){\n      this.isShow = true;\n    },\n    getApplyPeopleList(){\n      this.$axios.get(\"/competition/getApplyPeopleList/\" + this.competitionId).then(res => {\n        this.applyPeopleList = res.data.data.userApplyList;\n        this.applyNum = this.applyPeopleList.length;\n      })\n    },\n    apply(){\n      this.applyForm.competitionid = this.competitionId;\n      this.applyForm.userid = this.userId;\n      this.$confirm('此操作将报名该比赛, 是否继续?', '报名', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$axios.post(\"/user/apply/save\",this.applyForm).then(res => {\n          this.$message({\n            type: 'success',\n            message: '报名成功!',\n            onClose:() => {\n              this.getCompetitionInfo();\n              this.getApplyPeopleList();\n            }\n          });\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消报名'\n        });\n      });\n    },\n    cancel(){\n      this.$confirm('此操作将取消报名该比赛, 是否继续?', '取消报名', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$axios.post(\"/user/apply/cancel/\" + this.competitionId + \"/\" + this.userId).then(res => {\n          this.$message({\n            type: 'success',\n            message: '取消报名成功!',\n            onClose:() => {\n              this.getCompetitionInfo();\n              this.getApplyPeopleList();\n            }\n          });\n        })\n      })\n    },\n    getCompetitionInfo() {\n      this.$axios.get(\"/competition/getCompetitionInfo/\" + this.competitionId + \"/\" + sessionStorage.getItem(\"userId\")).then(res => {\n        this.info = res.data.data.competitionInfo;\n      })\n    },\n    dateFormat(time) {\n      let date = new Date(time);\n      let year = date.getFullYear();\n      let month =\n          date.getMonth() + 1 < 10\n              ? \"0\" + (date.getMonth() + 1)\n              : date.getMonth() + 1;\n      let day = date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate();\n      return (year + \"年\" + month + \"月\" + day + \"日\");\n    },\n  }\n}\n</script>\n\n<style scoped>\n.info{\n  margin-top: 20px;\n  line-height: 25px;\n}\n.people .el-image{\n  width: 36px;\n  height: 36px;\n  vertical-align: middle;\n}\n.people{\n  padding-top: 30px;\n  text-align: center;\n}\n.people div{\n  height: 45px;\n  border-bottom: 1px solid #ccc;\n  margin-bottom: 20px;\n}\n.people div:nth-last-child(1){\n  border-bottom: 0;\n}\n\n.people span{\n  display: inline-block;\n  margin-right: 30px;\n  height: 44px;\n  line-height: 44px;\n}\n.people span:nth-child(1){\n  float: left;\n  width: 36px;\n  height: 36px;\n  margin-left: 50px;\n  margin-top: 4px;\n}\n.people span:nth-child(2){\n  text-align: left;\n  width: 150px;\n  margin-right: 50px;\n  margin-left: 50px;\n}\n.people span:nth-child(3){\n  text-align: left;\n  width: 300px;\n  margin-left: 30px;\n  margin-right: 0;\n}\n.avatar{\n  width: 36px;\n  height: 36px;\n  line-height: 36px;\n  border-radius: 50%;\n}\n.hd{\n  height: 60px;\n  line-height: 60px;\n  border-bottom: 1px solid #ccc;\n}\n.hd h3{\n  display: inline-block;\n  margin: 0;\n  cursor: pointer;\n  width: 100px;\n  height: 58px;\n  line-height: 58px;\n  border-bottom: 2px solid transparent;\n  text-align: center;\n}\n.hd h3:nth-child(1){\n  border-bottom-color:#409EFF ;\n}\n.hd h3:hover{\n  color: #409EFF;\n}\n.hd p{\n  margin: 0;\n}\n.content-left{\n  float: left;\n  width: 750px;\n}\n.content-right{\n  float: left;\n  margin-left: 70px;\n  margin-top: 30px;\n}\n.content-right p{\n  color: #666;\n}\n.content-right p span{\n  display: inline-block;\n  width: 80px;\n  height: 20px;\n  line-height: 20px;\n  font-weight: 600;\n  padding-left: 10px;\n  color: #666;\n  border-left: 5px solid #409EFF;\n}\n.apply{\n  float: right;\n  line-height: 25px;\n  padding-top: 7px;\n  color: #666;\n  font-weight: 600;\n  margin-right: 20px;\n}\n\n.apply p{\n  font-weight: 400;\n  color: #aaa;\n}\n.name {\n  font-size: 26px;\n  font-weight: 600;\n}\n\n.baoMing {\n  font-size: 18px;\n  font-weight: 600;\n  background-color: #34bfa7;\n  color: #ffffff;\n}\n\n.photo {\n  width: 1080px;\n  height: 382px;\n}\n.blue{\n  border-bottom-color: #409EFF!important;\n}\n.tran{\n  border-bottom-color: transparent!important;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./competitionDetail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./competitionDetail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./competitionDetail.vue?vue&type=template&id=c8a5fa06&scoped=true\"\nimport script from \"./competitionDetail.vue?vue&type=script&lang=js\"\nexport * from \"./competitionDetail.vue?vue&type=script&lang=js\"\nimport style0 from \"./competitionDetail.vue?vue&type=style&index=0&id=c8a5fa06&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8a5fa06\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","staticClass","attrs","info","url","class","isShow","on","$event","changeToPeople","_v","changeToInfo","Date","starttime","applyStatus","apply","_e","cancel","_s","parseInt","getTime","dateFormat","name","description","_l","applyPeopleList","length","userAvatar","username","created","place","applyNum","staticRenderFns","data","competitionId","applyForm","userId","sessionStorage","getItem","getCompetitionInfo","getApplyPeopleList","methods","$axios","get","then","res","userApplyList","competitionid","userid","$confirm","confirmButtonText","cancelButtonText","type","post","$message","message","onClose","catch","competitionInfo","time","date","year","getFullYear","month","getMonth","day","getDate","component"],"sourceRoot":""}