"use strict";(self["webpackChunkssm"]=self["webpackChunkssm"]||[]).push([[422],{5422:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var l=function(){var t=this,e=t._self._c;return e("div",[e("el-form",{attrs:{inline:!0}},[e("el-form-item",[e("el-input",{attrs:{placeholder:"预约用户名",clearable:""},model:{value:t.searchForm.username,callback:function(e){t.$set(t.searchForm,"username",e)},expression:"searchForm.username"}})],1),e("el-form-item",[e("el-button",{on:{click:t.getAppointmentList}},[t._v("搜索")])],1)],1),e("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark",border:"",stripe:""}},[e("el-table-column",{attrs:{label:"预约编号",width:"80",prop:"id"}}),e("el-table-column",{attrs:{prop:"username",label:"预约用户名",width:"150"}}),e("el-table-column",{attrs:{prop:"placeName",label:"预约场地",width:"150"}}),e("el-table-column",{attrs:{prop:"orderdate",label:"预约日期"}}),e("el-table-column",{attrs:{prop:"orderstart",label:"预约开始时间(点)"}}),e("el-table-column",{attrs:{prop:"orderend",label:"预约结束时间(点)"}}),e("el-table-column",{attrs:{prop:"price",label:"预约订单价格"}}),e("el-table-column",{attrs:{prop:"status",label:"预约状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[0===a.row.status?e("el-tag",{attrs:{size:"small",type:"success"}},[t._v("已预约")]):e("el-tag",{attrs:{size:"small",type:"danger"}},[t._v("取消预约")])]}}])}),e("el-table-column",{attrs:{prop:"created",width:"200",label:"预约时间"}})],1),e("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":[10,20,50,100],"current-page":t.current,"page-size":t.size,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},r=[],s={name:"Appointment",data(){return{searchForm:{},delBtlStatus:!0,total:0,size:10,current:1,tableData:[]}},created(){this.getAppointmentList()},methods:{toggleSelection(t){t?t.forEach((t=>{this.$refs.multipleTable.toggleRowSelection(t)})):this.$refs.multipleTable.clearSelection()},dateFormat(t){let e=new Date(t),a=e.getFullYear(),l=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getDate()<10?"0"+e.getDate():e.getDate();return a+"-"+l+"-"+r},handleSizeChange(t){console.log(`每页 ${t} 条`),this.size=t,this.getAppointmentList()},handleCurrentChange(t){console.log(`当前页: ${t}`),this.current=t,this.getAppointmentList()},getAppointmentList(){this.$axios.get("/sys/appointment/list",{params:{username:this.searchForm.username,current:this.current,size:this.size}}).then((t=>{this.tableData=t.data.data.pageData.records;for(let e=0;e<this.tableData.length;e++)this.tableData[e].orderdate=this.dateFormat(this.tableData[e].orderdate),this.tableData[e].created=this.dateFormat(this.tableData[e].created);this.size=t.data.data.pageData.size,this.current=t.data.data.pageData.current,this.total=t.data.data.pageData.total}))}}},n=s,o=a(1656),i=(0,o.A)(n,l,r,!1,null,"1aeb0b64",null),p=i.exports}}]);
//# sourceMappingURL=422.d3292396.js.map