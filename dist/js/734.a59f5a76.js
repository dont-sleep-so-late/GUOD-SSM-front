"use strict";(self["webpackChunkssm"]=self["webpackChunkssm"]||[]).push([[734],{1734:function(s,e,r){r.r(e),r.d(e,{default:function(){return i}});var t=function(){var s=this,e=s._self._c;return e("div",{staticStyle:{"text-align":"center"}},[e("h2",[s._v("你好！"+s._s(s.userInfo.username)+" 同学")]),e("el-form",{ref:"passForm",attrs:{model:s.passForm,"status-icon":"",rules:s.rules,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"旧密码",prop:"currentPass"}},[e("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:s.passForm.currentPass,callback:function(e){s.$set(s.passForm,"currentPass",e)},expression:"passForm.currentPass"}})],1),e("el-form-item",{attrs:{label:"新密码",prop:"password"}},[e("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:s.passForm.password,callback:function(e){s.$set(s.passForm,"password",e)},expression:"passForm.password"}})],1),e("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[e("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:s.passForm.checkPass,callback:function(e){s.$set(s.passForm,"checkPass",e)},expression:"passForm.checkPass"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return s.submitForm("passForm")}}},[s._v("提交")]),e("el-button",{on:{click:function(e){return s.resetForm("passForm")}}},[s._v("重置")])],1)],1)],1)},a=[],o={name:"UserCenter",data(){var s=(s,e,r)=>{""===e?r(new Error("请再次输入密码")):e!==this.passForm.password?r(new Error("两次输入密码不一致!")):r()};return{userInfo:{},passForm:{password:"",checkPass:"",currentPass:""},rules:{password:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:12,message:"长度在 6 到 12 个字符",trigger:"blur"}],checkPass:[{required:!0,validator:s,trigger:"blur"}],currentPass:[{required:!0,message:"请输入当前密码",trigger:"blur"}]}}},created(){this.getUserInfo()},methods:{getUserInfo(){this.$axios.get("/sys/userInfo").then((s=>{this.userInfo=s.data.data}))},submitForm(s){this.$refs[s].validate((e=>{if(!e)return console.log("error submit!!"),!1;{const e=this;this.$axios.post("/sys/user/updatePass",this.passForm).then((r=>{e.$alert(r.data.msg,"提示",{confirmButtonText:"确定",callback:e=>{this.$refs[s].resetFields()}})}))}}))},resetForm(s){this.$refs[s].resetFields()}}},n=o,l=r(1656),u=(0,l.A)(n,t,a,!1,null,"5ff6b58f",null),i=u.exports}}]);
//# sourceMappingURL=734.a59f5a76.js.map